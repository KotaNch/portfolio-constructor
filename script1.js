// script.js - Red Lotus frontend (robust + UI improvements)
// Backend-first, safe fallbacks, and UI: thumbnail contain + tall input + "Подробнее" toggle.

const API_BASE = ''; // relative origin
const RECOMMEND_ENDPOINT = '/api/recommend';
const GENERATE_LAYOUTS_ENDPOINT = '/api/generate-layouts';
const PORTFOLIOS_ENDPOINT = '/api/portfolios';
const LOCAL_FALLBACK_JSON = 'data/final_portfolios.json';

// ===== Gemini config (ИСПРАВЛЕНО) =====
const USE_PROXY_FOR_GEMINI = false; // если true — использует PROXY_URL
const PROXY_URL = ""; // пример: "https://your-proxy.onrender.com/api/gemini"
// ЗАМЕНИТЕ ЭТОТ КЛЮЧ НА ВАШ СОБСТВЕННЫЙ ИЗ Google AI Studio
const GEMINI_API_KEY = "AIzaSyDmOgjE2C5fv22a84EMjwN81gQfS6K5s-U";
const GEMINI_ENDPOINT = `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${GEMINI_API_KEY}`;

// Максимальные защитные лимиты
const MAX_PORTFOLIOS_TO_SEND = 150; // не шли весь массив, ограничь
const MAX_DESC_CHARS = 700; // обрежь длинные описания

const EMBEDDED_FALLBACK ={
  "portfolios": [
    {
      "id": "10179-cs",
      "team_number": "10179",
      "team_name": "Tech Turtles",
      "achievement": "Qualifier",
      "portfolio_type": "cs",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/10179-cs.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/10179-cs.png",
      "description": "",
      "tags": [],
      "design_adjectives_en": [],
      "design_adjectives_ru": [],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "23396-cs",
      "team_number": "23396",
      "team_name": "Hivemind",
      "achievement": "Regionals",
      "portfolio_type": "cs",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/23396-cs.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/23396-cs.png",
      "description": "Team 23396 — concise portfolio overview inferred from the submitted document \"23396-cs.pdf\".\n\nThis portfolio focuses on the mechanical design and build process. It documents CAD iterations, material choices, structural analysis, and physical prototyping. The team provides assembly photos, dimensioned drawings, and explanations of trade-offs made during the build.\n\nSections typically include problem statement, requirements, subsystem breakdown (drive, manipulator, chassis), test logs and a reflection on improvements for next season. The narrative balances technical details with practical lessons.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "cad",
        "chassis",
        "clean layout",
        "competition portfolio",
        "cs",
        "design",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "manufacturing",
        "mechanical",
        "mechanical design",
        "mechanisms",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "механизмы",
        "механика",
        "наглядный",
        "проектирование",
        "производство",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "grid-based",
        "asymmetrical",
        "monospace-code",
        "sharp-edges",
        "three-tone",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "на сетке",
        "асимметричная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "grid-based",
        "asymmetrical",
        "monospace-code",
        "sharp-edges",
        "three-tone"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "на сетке",
        "асимметричная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "1002-ff",
      "team_number": "1002",
      "team_name": "Circuit Runners: Surge",
      "achievement": "Worlds",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/1002-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/1002-ff.png",
      "description": "Team 1002 — concise portfolio overview inferred from the submitted document \"1002-ff.pdf\".\n\nThis portfolio focuses on the mechanical design and build process. It documents CAD iterations, material choices, structural analysis, and physical prototyping. The team provides assembly photos, dimensioned drawings, and explanations of trade-offs made during the build.\n\nSections typically include problem statement, requirements, subsystem breakdown (drive, manipulator, chassis), test logs and a reflection on improvements for next season. The narrative balances technical details with practical lessons.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "cad",
        "chassis",
        "clean layout",
        "competition portfolio",
        "design",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "manufacturing",
        "mechanical",
        "mechanical design",
        "mechanisms",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "механизмы",
        "механика",
        "наглядный",
        "проектирование",
        "производство",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "two-column",
        "multi-panel",
        "large-hierarchy",
        "vibrant",
        "muted",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "двухколоночная",
        "мультипанель",
        "выраженная иерархия",
        "яркий",
        "приглушённый"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "two-column",
        "multi-panel",
        "large-hierarchy",
        "vibrant",
        "muted"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "двухколоночная",
        "мультипанель",
        "выраженная иерархия",
        "яркий",
        "приглушённый"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "1002-pp",
      "team_number": "1002",
      "team_name": "Circuit Runners: Surge",
      "achievement": "Worlds",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/1002-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/1002-pp.png",
      "description": "",
      "tags": [],
      "design_adjectives_en": [],
      "design_adjectives_ru": [],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "10183-pp",
      "team_number": "10183",
      "team_name": "Frog Robots of Germany",
      "achievement": "Regionals",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/10183-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/10183-pp.png",
      "description": "Team 10183 — concise portfolio overview inferred from the submitted document \"10183-pp.pdf\".\n\nThis portfolio emphasizes outreach, community engagement and STEM impact. It documents workshops, school visits, and collaborations with local organizations.\n\nIncluded are photographs from events, participant testimonials, curriculum materials created by the team, and reflections on outreach outcomes.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "community",
        "competition portfolio",
        "design process",
        "documentation",
        "education",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "mentorship",
        "outreach",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "аутрич",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "наставничество",
        "образование",
        "процесс проектирования",
        "робототехника",
        "сообщество",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "grid-based",
        "asymmetrical",
        "monospace-code",
        "sharp-edges",
        "three-tone",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "на сетке",
        "асимметричная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "grid-based",
        "asymmetrical",
        "monospace-code",
        "sharp-edges",
        "three-tone"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "на сетке",
        "асимметричная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "10355-ff",
      "team_number": "10355",
      "team_name": "Project Peacock",
      "achievement": "Regionals",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/10355-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/10355-ff.png",
      "description": "",
      "tags": [],
      "design_adjectives_en": [],
      "design_adjectives_ru": [],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "11468-pp",
      "team_number": "11468",
      "team_name": "Ohm Raiders",
      "achievement": "Regionals",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/11468-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/11468-pp.png",
      "description": "Team 11468 — concise portfolio overview inferred from the submitted document \"11468-pp.pdf\".\n\nThis portfolio highlights electrical system design: schematics, wiring diagrams, power budgeting and sensor integration. It documents component selection, safety considerations and troubleshooting logs.\n\nExpect BOM excerpts, layout drawings, and recorded measurements from bench tests. The team explains how electrical choices supported reliability and maintainability in the robot design.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "design process",
        "documentation",
        "electrical",
        "electronics",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "power",
        "power management",
        "robotics",
        "robotics team",
        "sensors",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "wiring",
        "датчики",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "питание",
        "проводка",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "электроника",
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "modular",
        "card-style",
        "large-hierarchy",
        "pastel",
        "monochrome",
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "модульная",
        "карточный стиль",
        "выраженная иерархия",
        "пастельный",
        "монохромный"
      ],
      "design_adjectives_en": [
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "modular",
        "card-style",
        "large-hierarchy",
        "pastel",
        "monochrome"
      ],
      "design_adjectives_ru": [
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "модульная",
        "карточный стиль",
        "выраженная иерархия",
        "пастельный",
        "монохромный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "12051-pp",
      "team_number": "12051",
      "team_name": "Not Not Nerds",
      "achievement": "Qualifier",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/12051-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/12051-pp.png",
      "description": "Team 12051 — concise portfolio overview inferred from the submitted document \"12051-pp.pdf\".\n\nThis portfolio emphasizes software architecture, control algorithms and autonomous routines. It outlines the codebase structure, key algorithms (path planning, PID tuning, sensor fusion), and testing methodology.\n\nIncluded are design diagrams, sample pseudocode, results of simulation or on-field testing, and a section on CI/CD or software quality practices. The team highlights how code design enabled consistent performance under competition stress.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "controls",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "spacious",
        "compact",
        "readable-caption",
        "muted",
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "просторная",
        "компактная",
        "читабельные подписи",
        "приглушённый"
      ],
      "design_adjectives_en": [
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "spacious",
        "compact",
        "readable-caption",
        "muted"
      ],
      "design_adjectives_ru": [
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "просторная",
        "компактная",
        "читабельные подписи",
        "приглушённый"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "12635-pp",
      "team_number": "12635",
      "team_name": "Kuriosity Robotics",
      "achievement": "Worlds",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/12635-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/12635-pp.png",
      "description": "Team 12635 — concise portfolio overview inferred from the submitted document \"12635-pp.pdf\".\n\nThis portfolio presents a balanced view across mechanical, software and strategic aspects. It contains CAD exports, control-flow diagrams, and a season timeline.\n\nThe narrative covers design decisions, test results, a summary of competition performance and actionable lessons learned for future teams.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "design",
        "design process",
        "documentation",
        "engineering",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "multi-panel",
        "spacious",
        "light-body-text",
        "sans-serif-headings",
        "vibrant",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "мультипанель",
        "просторная",
        "лёгкий основной текст",
        "заголовки без засечек",
        "яркий"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "multi-panel",
        "spacious",
        "light-body-text",
        "sans-serif-headings",
        "vibrant"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "мультипанель",
        "просторная",
        "лёгкий основной текст",
        "заголовки без засечек",
        "яркий"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "14270-pp",
      "team_number": "14270",
      "team_name": "Quantum Robotics",
      "achievement": "Regionals",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/14270-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/14270-pp.png",
      "description": "Team 14270 — concise portfolio overview inferred from the submitted document \"14270-pp.pdf\".\n\nThis portfolio presents a balanced view across mechanical, software and strategic aspects. It contains CAD exports, control-flow diagrams, and a season timeline.\n\nThe narrative covers design decisions, test results, a summary of competition performance and actionable lessons learned for future teams.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "design",
        "design process",
        "documentation",
        "engineering",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "readable-caption",
        "two-tone",
        "accent-color",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "читабельные подписи",
        "двухцветный",
        "акцентный цвет"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "readable-caption",
        "two-tone",
        "accent-color"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "читабельные подписи",
        "двухцветный",
        "акцентный цвет"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "16461-ff",
      "team_number": "16461",
      "team_name": "Infinite Turtles",
      "achievement": "Worlds",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/16461-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/16461-ff.png",
      "description": "Team 16461 — concise portfolio overview inferred from the submitted document \"16461-ff.pdf\".\n\nThis portfolio emphasizes outreach, community engagement and STEM impact. It documents workshops, school visits, and collaborations with local organizations.\n\nIncluded are photographs from events, participant testimonials, curriculum materials created by the team, and reflections on outreach outcomes.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "community",
        "competition portfolio",
        "design process",
        "documentation",
        "education",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "mentorship",
        "outreach",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "аутрич",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "наставничество",
        "образование",
        "процесс проектирования",
        "робототехника",
        "сообщество",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "two-column",
        "multi-panel",
        "monospace-code",
        "soft-edges",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "двухколоночная",
        "мультипанель",
        "моноширинный код",
        "монохромный",
        "мягкие края"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "two-column",
        "multi-panel",
        "monospace-code",
        "soft-edges"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "двухколоночная",
        "мультипанель",
        "моноширинный код",
        "монохромный",
        "мягкие края"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "18317-pp",
      "team_number": "18317",
      "team_name": "Steel Eels",
      "achievement": "Worlds",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/18317-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/18317-pp.png",
      "description": "Team 18317 — concise portfolio overview inferred from the submitted document \"18317-pp.pdf\".\n\nThis portfolio presents a balanced view across mechanical, software and strategic aspects. It contains CAD exports, control-flow diagrams, and a season timeline.\n\nThe narrative covers design decisions, test results, a summary of competition performance and actionable lessons learned for future teams.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "design",
        "design process",
        "documentation",
        "engineering",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "modular",
        "card-style",
        "large-hierarchy",
        "pastel",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "модульная",
        "карточный стиль",
        "выраженная иерархия",
        "пастельный",
        "монохромный"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "modular",
        "card-style",
        "large-hierarchy",
        "pastel"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "модульная",
        "карточный стиль",
        "выраженная иерархия",
        "пастельный",
        "монохромный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "20744-pp",
      "team_number": "20744",
      "team_name": "24KARAT",
      "achievement": "Regionals",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/20744-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/20744-pp.png",
      "description": "Team 20744 — concise portfolio overview inferred from the submitted document \"20744-pp.pdf\".\n\nThis portfolio focuses on the mechanical design and build process. It documents CAD iterations, material choices, structural analysis, and physical prototyping. The team provides assembly photos, dimensioned drawings, and explanations of trade-offs made during the build.\n\nSections typically include problem statement, requirements, subsystem breakdown (drive, manipulator, chassis), test logs and a reflection on improvements for next season. The narrative balances technical details with practical lessons.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "cad",
        "chassis",
        "clean layout",
        "competition portfolio",
        "design",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "manufacturing",
        "mechanical",
        "mechanical design",
        "mechanisms",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "механизмы",
        "механика",
        "наглядный",
        "проектирование",
        "производство",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "multi-panel",
        "spacious",
        "light-body-text",
        "sans-serif-headings",
        "vibrant",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "мультипанель",
        "просторная",
        "лёгкий основной текст",
        "заголовки без засечек",
        "яркий"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "multi-panel",
        "spacious",
        "light-body-text",
        "sans-serif-headings",
        "vibrant"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "мультипанель",
        "просторная",
        "лёгкий основной текст",
        "заголовки без засечек",
        "яркий"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "21579-cs",
      "team_number": "21579",
      "team_name": "Testing is Optional",
      "achievement": "Regionals",
      "portfolio_type": "cs",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/21579-cs.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/21579-cs.png",
      "description": "Team 21579 — concise portfolio overview inferred from the submitted document \"21579-cs.pdf\".\n\nThis portfolio focuses on the mechanical design and build process. It documents CAD iterations, material choices, structural analysis, and physical prototyping. The team provides assembly photos, dimensioned drawings, and explanations of trade-offs made during the build.\n\nSections typically include problem statement, requirements, subsystem breakdown (drive, manipulator, chassis), test logs and a reflection on improvements for next season. The narrative balances technical details with practical lessons.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "cad",
        "chassis",
        "clean layout",
        "competition portfolio",
        "cs",
        "design",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "manufacturing",
        "mechanical",
        "mechanical design",
        "mechanisms",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "механизмы",
        "механика",
        "наглядный",
        "проектирование",
        "производство",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "readable-caption",
        "two-tone",
        "accent-color",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "читабельные подписи",
        "двухцветный",
        "акцентный цвет"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "readable-caption",
        "two-tone",
        "accent-color"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "читабельные подписи",
        "двухцветный",
        "акцентный цвет"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "252-ff",
      "team_number": "252",
      "team_name": "Electric Quahogs",
      "achievement": "Regionals",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/252-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/252-ff.png",
      "description": "Team 252 — concise portfolio overview inferred from the submitted document \"252-ff.pdf\".\n\nThis portfolio centers on competition strategy, season planning and iterative improvements derived from match data. It contains scouting summaries, match analyses and rationale for the chosen robot capabilities.\n\nThe document includes field diagrams, scoring breakdowns, a playbook for common opponent scenarios and post-match retrospective notes.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "game analysis",
        "gameplay",
        "iteration",
        "judge friendly",
        "match planning",
        "portfolio",
        "robotics",
        "robotics team",
        "scouting",
        "stem",
        "strategy",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "анализ игры",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "планирование матчей",
        "процесс проектирования",
        "робототехника",
        "скаутинг",
        "соревновательное портфолио",
        "стратегия",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "compact",
        "modular",
        "monospace-code",
        "sharp-edges",
        "three-tone",
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "компактная",
        "модульная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "design_adjectives_en": [
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "compact",
        "modular",
        "monospace-code",
        "sharp-edges",
        "three-tone"
      ],
      "design_adjectives_ru": [
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "компактная",
        "модульная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "4042-ff",
      "team_number": "4042",
      "team_name": "Nonstandard Deviation",
      "achievement": "Qualifier",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/4042-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/4042-ff.png",
      "description": "Team 4042 — concise portfolio overview inferred from the submitted document \"4042-ff.pdf\".\n\nThis portfolio focuses on the mechanical design and build process. It documents CAD iterations, material choices, structural analysis, and physical prototyping. The team provides assembly photos, dimensioned drawings, and explanations of trade-offs made during the build.\n\nSections typically include problem statement, requirements, subsystem breakdown (drive, manipulator, chassis), test logs and a reflection on improvements for next season. The narrative balances technical details with practical lessons.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "cad",
        "chassis",
        "clean layout",
        "competition portfolio",
        "design",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "manufacturing",
        "mechanical",
        "mechanical design",
        "mechanisms",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "механизмы",
        "механика",
        "наглядный",
        "проектирование",
        "производство",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "light-body-text",
        "two-tone",
        "accent-color",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "лёгкий основной текст",
        "двухцветный",
        "акцентный цвет"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "light-body-text",
        "two-tone",
        "accent-color"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "лёгкий основной текст",
        "двухцветный",
        "акцентный цвет"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "516-ug",
      "team_number": "516",
      "team_name": "Gears of Fire",
      "achievement": "Regionals",
      "portfolio_type": "ug",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/516-ug.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/516-ug.png",
      "description": "Team 516 — concise portfolio overview inferred from the submitted document \"516-ug.pdf\".\n\nThis portfolio highlights electrical system design: schematics, wiring diagrams, power budgeting and sensor integration. It documents component selection, safety considerations and troubleshooting logs.\n\nExpect BOM excerpts, layout drawings, and recorded measurements from bench tests. The team explains how electrical choices supported reliability and maintainability in the robot design.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "design process",
        "documentation",
        "electrical",
        "electronics",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "power",
        "power management",
        "robotics",
        "robotics team",
        "sensors",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "wiring",
        "датчики",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "питание",
        "проводка",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "электроника",
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "modular",
        "card-style",
        "light-body-text",
        "pastel",
        "monochrome",
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "модульная",
        "карточный стиль",
        "лёгкий основной текст",
        "пастельный",
        "монохромный"
      ],
      "design_adjectives_en": [
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "modular",
        "card-style",
        "light-body-text",
        "pastel",
        "monochrome"
      ],
      "design_adjectives_ru": [
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "модульная",
        "карточный стиль",
        "лёгкий основной текст",
        "пастельный",
        "монохромный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "6165-ff",
      "team_number": "6165",
      "team_name": "MSET CuttleFish",
      "achievement": "Worlds",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/6165-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/6165-ff.png",
      "description": "Team 6165 — concise portfolio overview inferred from the submitted document \"6165-ff.pdf\".\n\nThis portfolio highlights electrical system design: schematics, wiring diagrams, power budgeting and sensor integration. It documents component selection, safety considerations and troubleshooting logs.\n\nExpect BOM excerpts, layout drawings, and recorded measurements from bench tests. The team explains how electrical choices supported reliability and maintainability in the robot design.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "design process",
        "documentation",
        "electrical",
        "electronics",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "power",
        "power management",
        "robotics",
        "robotics team",
        "sensors",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "wiring",
        "датчики",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "питание",
        "проводка",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "электроника",
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "grid-based",
        "asymmetrical",
        "large-hierarchy",
        "monochrome",
        "soft-edges",
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "на сетке",
        "асимметричная",
        "выраженная иерархия",
        "монохромный",
        "мягкие края"
      ],
      "design_adjectives_en": [
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "grid-based",
        "asymmetrical",
        "large-hierarchy",
        "monochrome",
        "soft-edges"
      ],
      "design_adjectives_ru": [
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "на сетке",
        "асимметричная",
        "выраженная иерархия",
        "монохромный",
        "мягкие края"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "6323-ug",
      "team_number": "6323",
      "team_name": "The Pink Team",
      "achievement": "Regionals",
      "portfolio_type": "ug",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/6323-ug.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/6323-ug.png",
      "description": "Team 6323 — concise portfolio overview inferred from the submitted document \"6323-ug.pdf\".\n\nThis portfolio highlights electrical system design: schematics, wiring diagrams, power budgeting and sensor integration. It documents component selection, safety considerations and troubleshooting logs.\n\nExpect BOM excerpts, layout drawings, and recorded measurements from bench tests. The team explains how electrical choices supported reliability and maintainability in the robot design.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "design process",
        "documentation",
        "electrical",
        "electronics",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "power",
        "power management",
        "robotics",
        "robotics team",
        "sensors",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "wiring",
        "датчики",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "питание",
        "проводка",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "электроника",
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "two-column",
        "multi-panel",
        "light-body-text",
        "monochrome",
        "soft-edges",
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "двухколоночная",
        "мультипанель",
        "лёгкий основной текст",
        "монохромный",
        "мягкие края"
      ],
      "design_adjectives_en": [
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "two-column",
        "multi-panel",
        "light-body-text",
        "monochrome",
        "soft-edges"
      ],
      "design_adjectives_ru": [
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "двухколоночная",
        "мультипанель",
        "лёгкий основной текст",
        "монохромный",
        "мягкие края"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "701-ff",
      "team_number": "701",
      "team_name": "The GONK Squad",
      "achievement": "Regionals",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/701-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/701-ff.png",
      "description": "Team 701 — concise portfolio overview inferred from the submitted document \"701-ff.pdf\".\n\nThis portfolio presents a balanced view across mechanical, software and strategic aspects. It contains CAD exports, control-flow diagrams, and a season timeline.\n\nThe narrative covers design decisions, test results, a summary of competition performance and actionable lessons learned for future teams.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "design",
        "design process",
        "documentation",
        "engineering",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "spacious",
        "compact",
        "light-body-text",
        "soft-edges",
        "two-tone",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "просторная",
        "компактная",
        "лёгкий основной текст",
        "мягкие края",
        "двухцветный"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "spacious",
        "compact",
        "light-body-text",
        "soft-edges",
        "two-tone"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "просторная",
        "компактная",
        "лёгкий основной текст",
        "мягкие края",
        "двухцветный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "7444-cs",
      "team_number": "7444",
      "team_name": "Sisters of the Motherboard",
      "achievement": "Regionals",
      "portfolio_type": "cs",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/7444-cs.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/7444-cs.png",
      "description": "Team 7444 — concise portfolio overview inferred from the submitted document \"7444-cs.pdf\".\n\nThis portfolio centers on competition strategy, season planning and iterative improvements derived from match data. It contains scouting summaries, match analyses and rationale for the chosen robot capabilities.\n\nThe document includes field diagrams, scoring breakdowns, a playbook for common opponent scenarios and post-match retrospective notes.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "cs",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "game analysis",
        "gameplay",
        "iteration",
        "judge friendly",
        "match planning",
        "portfolio",
        "robotics",
        "robotics team",
        "scouting",
        "stem",
        "strategy",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "анализ игры",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "планирование матчей",
        "процесс проектирования",
        "робототехника",
        "скаутинг",
        "соревновательное портфолио",
        "стратегия",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "single-column",
        "bold-headings",
        "muted",
        "high-contrast",
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "одноколоночная",
        "двухколоночная",
        "жирные заголовки",
        "приглушённый",
        "высокая контрастность"
      ],
      "design_adjectives_en": [
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "single-column",
        "bold-headings",
        "muted",
        "high-contrast"
      ],
      "design_adjectives_ru": [
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "одноколоночная",
        "двухколоночная",
        "жирные заголовки",
        "приглушённый",
        "высокая контрастность"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "7444-ug",
      "team_number": "7444",
      "team_name": "Sisters of the Motherboard",
      "achievement": "Regionals",
      "portfolio_type": "ug",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/7444-ug.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/7444-ug.png",
      "description": "Team 7444 — concise portfolio overview inferred from the submitted document \"7444-ug.pdf\".\n\nThis portfolio centers on competition strategy, season planning and iterative improvements derived from match data. It contains scouting summaries, match analyses and rationale for the chosen robot capabilities.\n\nThe document includes field diagrams, scoring breakdowns, a playbook for common opponent scenarios and post-match retrospective notes.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "game analysis",
        "gameplay",
        "iteration",
        "judge friendly",
        "match planning",
        "portfolio",
        "robotics",
        "robotics team",
        "scouting",
        "stem",
        "strategy",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "анализ игры",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "планирование матчей",
        "процесс проектирования",
        "робототехника",
        "скаутинг",
        "соревновательное портфолио",
        "стратегия",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "card-style",
        "grid-based",
        "light-body-text",
        "three-tone",
        "sans-serif-headings",
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "карточный стиль",
        "на сетке",
        "лёгкий основной текст",
        "трёхцветный",
        "заголовки без засечек"
      ],
      "design_adjectives_en": [
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "card-style",
        "grid-based",
        "light-body-text",
        "three-tone",
        "sans-serif-headings"
      ],
      "design_adjectives_ru": [
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "карточный стиль",
        "на сетке",
        "лёгкий основной текст",
        "трёхцветный",
        "заголовки без засечек"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "7842-pp",
      "team_number": "7842",
      "team_name": "Browncoats",
      "achievement": "Worlds",
      "portfolio_type": "pp",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/7842-pp.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/7842-pp.png",
      "description": "Team 7842 — concise portfolio overview inferred from the submitted document \"7842-pp.pdf\".\n\nThis portfolio focuses on the mechanical design and build process. It documents CAD iterations, material choices, structural analysis, and physical prototyping. The team provides assembly photos, dimensioned drawings, and explanations of trade-offs made during the build.\n\nSections typically include problem statement, requirements, subsystem breakdown (drive, manipulator, chassis), test logs and a reflection on improvements for next season. The narrative balances technical details with practical lessons.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "cad",
        "chassis",
        "clean layout",
        "competition portfolio",
        "design",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "manufacturing",
        "mechanical",
        "mechanical design",
        "mechanisms",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "механизмы",
        "механика",
        "наглядный",
        "проектирование",
        "производство",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "spacious",
        "compact",
        "monospace-code",
        "muted",
        "high-contrast",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "просторная",
        "компактная",
        "моноширинный код",
        "приглушённый",
        "высокая контрастность"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "spacious",
        "compact",
        "monospace-code",
        "muted",
        "high-contrast"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "просторная",
        "компактная",
        "моноширинный код",
        "приглушённый",
        "высокая контрастность"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "7842-ug",
      "team_number": "7842",
      "team_name": "Browncoats",
      "achievement": "Regionals",
      "portfolio_type": "ug",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/7842-ug.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/7842-ug.png",
      "description": "Team 7842 — concise portfolio overview inferred from the submitted document \"7842-ug.pdf\".\n\nThis portfolio emphasizes outreach, community engagement and STEM impact. It documents workshops, school visits, and collaborations with local organizations.\n\nIncluded are photographs from events, participant testimonials, curriculum materials created by the team, and reflections on outreach outcomes.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "community",
        "competition portfolio",
        "design process",
        "documentation",
        "education",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "mentorship",
        "outreach",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "аутрич",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "наставничество",
        "образование",
        "процесс проектирования",
        "робототехника",
        "сообщество",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "readable-caption",
        "sans-serif-headings",
        "vibrant",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "читабельные подписи",
        "заголовки без засечек",
        "яркий"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "asymmetrical",
        "single-column",
        "readable-caption",
        "sans-serif-headings",
        "vibrant"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "асимметричная",
        "одноколоночная",
        "читабельные подписи",
        "заголовки без засечек",
        "яркий"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "8300-ff",
      "team_number": "8300",
      "team_name": "Pi Rho Eagles",
      "achievement": "Regionals",
      "portfolio_type": "ff",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/8300-ff.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/8300-ff.png",
      "description": "Team 8300 — concise portfolio overview inferred from the submitted document \"8300-ff.pdf\".\n\nThis portfolio centers on competition strategy, season planning and iterative improvements derived from match data. It contains scouting summaries, match analyses and rationale for the chosen robot capabilities.\n\nThe document includes field diagrams, scoring breakdowns, a playbook for common opponent scenarios and post-match retrospective notes.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "game analysis",
        "gameplay",
        "iteration",
        "judge friendly",
        "match planning",
        "portfolio",
        "robotics",
        "robotics team",
        "scouting",
        "stem",
        "strategy",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "анализ игры",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "планирование матчей",
        "процесс проектирования",
        "робототехника",
        "скаутинг",
        "соревновательное портфолио",
        "стратегия",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "single-column",
        "monospace-code",
        "three-tone",
        "sans-serif-headings",
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "одноколоночная",
        "двухколоночная",
        "моноширинный код",
        "трёхцветный",
        "заголовки без засечек"
      ],
      "design_adjectives_en": [
        "informative",
        "chart-heavy",
        "diagrammatic",
        "two-column",
        "executive-summary",
        "muted-palette",
        "accent-red-green",
        "callouts",
        "timeline-focused",
        "single-column",
        "monospace-code",
        "three-tone",
        "sans-serif-headings"
      ],
      "design_adjectives_ru": [
        "информативный",
        "много графиков",
        "диаграммный",
        "двухколоночный",
        "руководящая сводка",
        "приглушённая палитра",
        "акценты красный-зелёный",
        "выноски",
        "фокус на таймлайне",
        "одноколоночная",
        "двухколоночная",
        "моноширинный код",
        "трёхцветный",
        "заголовки без засечек"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "9527-ug",
      "team_number": "9527",
      "team_name": "Rogue Resistance",
      "achievement": "Qualifier",
      "portfolio_type": "ug",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/9527-ug.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/9527-ug.png",
      "description": "Team 9527 — concise portfolio overview inferred from the submitted document \"9527-ug.pdf\".\n\nThis portfolio emphasizes software architecture, control algorithms and autonomous routines. It outlines the codebase structure, key algorithms (path planning, PID tuning, sensor fusion), and testing methodology.\n\nIncluded are design diagrams, sample pseudocode, results of simulation or on-field testing, and a section on CI/CD or software quality practices. The team highlights how code design enabled consistent performance under competition stress.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "controls",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "two-column",
        "multi-panel",
        "bold-headings",
        "vibrant",
        "muted",
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "двухколоночная",
        "мультипанель",
        "жирные заголовки",
        "яркий",
        "приглушённый"
      ],
      "design_adjectives_en": [
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "two-column",
        "multi-panel",
        "bold-headings",
        "vibrant",
        "muted"
      ],
      "design_adjectives_ru": [
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "двухколоночная",
        "мультипанель",
        "жирные заголовки",
        "яркий",
        "приглушённый"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "9974-ug",
      "team_number": "9974",
      "team_name": "T.H.O.R.",
      "achievement": "Regionals",
      "portfolio_type": "ug",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/9974-ug.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/9974-ug.png",
      "description": "Team 9974 — concise portfolio overview inferred from the submitted document \"9974-ug.pdf\".\n\nThis portfolio emphasizes software architecture, control algorithms and autonomous routines. It outlines the codebase structure, key algorithms (path planning, PID tuning, sensor fusion), and testing methodology.\n\nIncluded are design diagrams, sample pseudocode, results of simulation or on-field testing, and a section on CI/CD or software quality practices. The team highlights how code design enabled consistent performance under competition stress.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "controls",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "grid-based",
        "asymmetrical",
        "light-body-text",
        "sharp-edges",
        "three-tone",
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "на сетке",
        "асимметричная",
        "лёгкий основной текст",
        "чёткие края",
        "трёхцветный"
      ],
      "design_adjectives_en": [
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "grid-based",
        "asymmetrical",
        "light-body-text",
        "sharp-edges",
        "three-tone"
      ],
      "design_adjectives_ru": [
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "на сетке",
        "асимметричная",
        "лёгкий основной текст",
        "чёткие края",
        "трёхцветный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "24331-cs",
      "team_number": "24331",
      "team_name": "Caesar Circuitry",
      "achievement": "Regionals",
      "portfolio_type": "cs",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/24331-cs.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/24331-cs.png",
      "description": "Team 24331 — concise portfolio overview inferred from the submitted document \"24331-cs.pdf\".\n\nThis portfolio emphasizes software architecture, control algorithms and autonomous routines. It outlines the codebase structure, key algorithms (path planning, PID tuning, sensor fusion), and testing methodology.\n\nIncluded are design diagrams, sample pseudocode, results of simulation or on-field testing, and a section on CI/CD or software quality practices. The team highlights how code design enabled consistent performance under competition stress.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "algorithms",
        "autonomous",
        "clean layout",
        "competition portfolio",
        "control systems",
        "controls",
        "cs",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "programming",
        "robotics",
        "robotics team",
        "software",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "автономка",
        "алгоритмы",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "программирование",
        "процесс проектирования",
        "робототехника",
        "системы управления",
        "соревновательное портфолио",
        "софт",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "card-style",
        "grid-based",
        "monospace-code",
        "three-tone",
        "sans-serif-headings",
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "карточный стиль",
        "на сетке",
        "моноширинный код",
        "трёхцветный",
        "заголовки без засечек"
      ],
      "design_adjectives_en": [
        "modern",
        "minimal",
        "dark-mode-friendly",
        "high-contrast",
        "clean-typography",
        "code-style-snippets",
        "diagram-first",
        "spacious-layout",
        "accent-color-blue",
        "monospace-captions",
        "card-style",
        "grid-based",
        "monospace-code",
        "three-tone",
        "sans-serif-headings"
      ],
      "design_adjectives_ru": [
        "современный",
        "минималистичный",
        "под тёмную тему",
        "высокая контрастность",
        "чистая типографика",
        "кодовые фрагменты",
        "диаграммы в приоритете",
        "просторная вёрстка",
        "акцентный синий",
        "моноширинные подписи",
        "карточный стиль",
        "на сетке",
        "моноширинный код",
        "трёхцветный",
        "заголовки без засечек"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "19706-cs",
      "team_number": "19706",
      "team_name": "Potential Energy",
      "achievement": "Worlds",
      "portfolio_type": "cs",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/19706-cs.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/19706-cs.png",
      "description": "Team 19706 — concise portfolio overview inferred from the submitted document \"19706-cs.pdf\".\n\nThis portfolio highlights electrical system design: schematics, wiring diagrams, power budgeting and sensor integration. It documents component selection, safety considerations and troubleshooting logs.\n\nExpect BOM excerpts, layout drawings, and recorded measurements from bench tests. The team explains how electrical choices supported reliability and maintainability in the robot design.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "clean layout",
        "competition portfolio",
        "cs",
        "design process",
        "documentation",
        "electrical",
        "electronics",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "portfolio",
        "power",
        "power management",
        "robotics",
        "robotics team",
        "sensors",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "wiring",
        "датчики",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "наглядный",
        "питание",
        "проводка",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "электроника",
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "grid-based",
        "asymmetrical",
        "monospace-code",
        "sharp-edges",
        "three-tone",
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "на сетке",
        "асимметричная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "design_adjectives_en": [
        "schematic",
        "technical-diagrams",
        "high-visibility",
        "yellow-accent",
        "compact-layout",
        "data-tables",
        "annotation-rich",
        "contrast-icons",
        "functional-style",
        "grid-based",
        "asymmetrical",
        "monospace-code",
        "sharp-edges",
        "three-tone"
      ],
      "design_adjectives_ru": [
        "схематичный",
        "технические схемы",
        "высокая заметность",
        "жёлтый акцент",
        "компактная верстка",
        "таблицы данных",
        "много аннотаций",
        "контрастные иконки",
        "функциональный стиль",
        "на сетке",
        "асимметричная",
        "моноширинный код",
        "чёткие края",
        "трёхцветный"
      ],
      "templates": [
        null,
        null
      ]
    },
    {
      "id": "23511-itd",
      "team_number": "23511",
      "team_name": "Seattle Solvers",
      "achievement": "Regional Semifinal",
      "portfolio_type": "itd",
      "pdf_url": "https://cdn.hivemindrobotics.net/portfolios/23511-itd.pdf",
      "thumbnail_url": "https://cdn.hivemindrobotics.net/thumbnails/23511-itd.png",
      "description": "Team 23511 — concise portfolio overview inferred from the submitted document \"23511-itd.pdf\".\n\nThis portfolio focuses on the mechanical design and build process. It documents CAD iterations, material choices, structural analysis, and physical prototyping. The team provides assembly photos, dimensioned drawings, and explanations of trade-offs made during the build.\n\nSections typically include problem statement, requirements, subsystem breakdown (drive, manipulator, chassis), test logs and a reflection on improvements for next season. The narrative balances technical details with practical lessons.\n\nOverall, the portfolio is organized to support quick reviewer navigation: clear section headings, visual anchors (frames and placeholders), and concise captions for diagrams and photos. Use the provided template field to attach a corresponding layout skeleton for easy remixing.",
      "tags": [
        "cad",
        "chassis",
        "clean layout",
        "competition portfolio",
        "design",
        "design process",
        "documentation",
        "engineering portfolio",
        "first tech challenge",
        "ftc",
        "iteration",
        "judge friendly",
        "manufacturing",
        "mechanical",
        "mechanical design",
        "mechanisms",
        "portfolio",
        "robotics",
        "robotics team",
        "stem",
        "structured",
        "student engineering",
        "testing",
        "visual",
        "документация",
        "инженерное портфолио",
        "итерации",
        "команда робототехники",
        "механизмы",
        "механика",
        "наглядный",
        "проектирование",
        "производство",
        "процесс проектирования",
        "робототехника",
        "соревновательное портфолио",
        "структурированный",
        "студенческий проект",
        "тестирование",
        "удобно для судей",
        "чистый макет",
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "compact",
        "modular",
        "readable-caption",
        "sharp-edges",
        "three-tone",
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "компактная",
        "модульная",
        "читабельные подписи",
        "чёткие края",
        "трёхцветный"
      ],
      "design_adjectives_en": [
        "industrial",
        "technical",
        "blueprint-style",
        "monochrome",
        "grayscale",
        "high-precision",
        "engineering-focused",
        "structured-grid",
        "dense-layout",
        "photographic-plates",
        "compact",
        "modular",
        "readable-caption",
        "sharp-edges",
        "three-tone"
      ],
      "design_adjectives_ru": [
        "индустриальный",
        "технический",
        "в стиле чертежа",
        "монохром",
        "оттенки серого",
        "высокая точность",
        "инженерно-ориентированный",
        "структурная сетка",
        "плотная верстка",
        "фотопластины",
        "компактная",
        "модульная",
        "читабельные подписи",
        "чёткие края",
        "трёхцветный"
      ],
      "templates": [
        null,
        null
      ]
    }
  ],
  "total_count": 30
};

// ===== Основные функции Gemini =====
async function geminiFetch(payload) {
  if (USE_PROXY_FOR_GEMINI) {
    if (!PROXY_URL) throw new Error('PROXY_URL не настроен');
    const response = await fetch(PROXY_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });
    if (!response.ok) throw new Error(`Proxy вернул ошибку: ${response.status}`);
    return response.json();
  } else {
    if (!GEMINI_API_KEY) throw new Error('GEMINI_API_KEY не настроен');
    const response = await fetch(GEMINI_ENDPOINT, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents: [{
          parts: [{
            text: payload.contents[0].parts[0]
          }]
        }]
      })
    });
    
    if (!response.ok) {
      const errorText = await response.text();
      throw new Error(`Gemini API error: ${response.status} - ${errorText.slice(0, 200)}`);
    }
    return response.json();
  }
}

// Утилита для извлечения JSON из текста ответа
function extractFirstJSON(text) {
  if (!text || typeof text !== 'string') return null;
  
  // Пытаемся найти начало JSON
  const firstBrace = text.indexOf('{');
  const firstBracket = text.indexOf('[');
  const start = Math.min(
    firstBrace !== -1 ? firstBrace : Infinity,
    firstBracket !== -1 ? firstBracket : Infinity
  );
  
  if (start === Infinity) return null;
  
  // Пробуем разобрать JSON с разными конечными точками
  for (let end = text.length; end > start; end--) {
    try {
      const candidate = text.substring(start, end);
      const parsed = JSON.parse(candidate);
      return parsed;
    } catch (e) {
      // Продолжаем искать
    }
  }
  
  return null;
}

// Основная функция для ранжирования портфолио через Gemini
async function geminiRankPortfolios(userPrompt) {
  console.log('Начинаем ранжирование через Gemini...');
  
  // 1. Загружаем список портфолио
  let portfolios = [];
  
  try {
    const response = await fetch(API_BASE + PORTFOLIOS_ENDPOINT);
    if (response.ok) {
      const data = await response.json();
      portfolios = data.portfolios || data;
    }
  } catch (error) {
    console.warn('Не удалось загрузить портфолио с бэкенда:', error.message);
  }
  
  // 2. Пробуем локальный файл
  if (!portfolios || portfolios.length === 0) {
    try {
      const response = await fetch(LOCAL_FALLBACK_JSON);
      if (response.ok) {
        const data = await response.json();
        portfolios = data.portfolios || data;
      }
    } catch (error) {
      console.warn('Не удалось загрузить локальный файл:', error.message);
    }
  }
  
  // 3. Используем встроенные данные
  if (!portfolios || portfolios.length === 0) {
    portfolios = EMBEDDED_FALLBACK.portfolios || [];
    console.log('Используем встроенные данные:', portfolios.length);
  }
  
  // 4. Подготавливаем данные для отправки
  const simplifiedPortfolios = portfolios.slice(0, MAX_PORTFOLIOS_TO_SEND).map(p => ({
    id: p.id || `${p.team_number}-${p.portfolio_type || 'pp'}`,
    team_name: safeString(p.team_name, 120),
    portfolio_type: p.portfolio_type || '',
    achievement: safeString(p.achievement, 60),
    description: safeString(p.description, MAX_DESC_CHARS),
    tags: (p.tags || []).slice(0, 40),
    design_adjectives: (p.design_adjectives_en || p.design_adjectives_ru || []).slice(0, 40),
    thumbnail_url: p.thumbnail_url || ''
  }));
  
  // 5. Формируем промпт для Gemini
  const systemPrompt = `
Ты — эксперт по оценке портфолио для соревнований FTC (First Tech Challenge).
Тебе нужно выбрать ТОЛЬКО 3 наиболее подходящих портфолио на основе запроса пользователя.

ИНСТРУКЦИИ:
1. Проанализируй запрос пользователя
2. Оцени каждое портфолио по релевантности запросу
3. Верни JSON в ТОЧНО таком формате:
{
  "selected": [
    {
      "id": "идентификатор_портфолио",
      "score": число_от_0_до_1,
      "reason": "краткое_объяснение_на_русском"
    }
  ],
  "debug": {
    "total_portfolios_considered": число,
    "method": "semantic-ranking"
  }
}

ВАЖНО:
- Выбери максимум 3 портфолио
- Порядок: самый релевантный первый
- Score: 1.0 = идеально подходит, 0.0 = не подходит
- Reason: максимум 120 символов

ЗАПРОС ПОЛЬЗОВАТЕЛЯ:
"""
${safeString(userPrompt, 1000)}
"""

ДОСТУПНЫЕ ПОРТФОЛИО (всего ${simplifiedPortfolios.length}):
${JSON.stringify(simplifiedPortfolios, null, 2)}
`;

  // 6. Отправляем запрос к Gemini
  try {
    console.log('Отправляем запрос к Gemini...');
    
    const requestBody = {
      contents: [{
        parts: [{
          text: systemPrompt
        }]
      }],
      generationConfig: {
        temperature: 0.2,
        topP: 0.8,
        topK: 40,
        maxOutputTokens: 1024
      }
    };
    
    const response = await geminiFetch(requestBody);
    
    // 7. Обрабатываем ответ
    let geminiResponseText = '';
    
    if (response?.candidates?.[0]?.content?.parts?.[0]?.text) {
      geminiResponseText = response.candidates[0].content.parts[0].text;
    } else if (response?.candidates?.[0]?.content?.text) {
      geminiResponseText = response.candidates[0].content.text;
    } else {
      throw new Error('Неверный формат ответа от Gemini');
    }
    
    console.log('Ответ от Gemini получен:', geminiResponseText.slice(0, 500));
    
    // 8. Извлекаем JSON из ответа
    const parsedResult = extractFirstJSON(geminiResponseText);
    
    if (!parsedResult || !parsedResult.selected) {
      throw new Error('Не удалось извлечь JSON из ответа Gemini');
    }
    
    // 9. Сопоставляем выбранные ID с полными объектами портфолио
    const selectedPortfolios = parsedResult.selected.slice(0, 3).map(selected => {
      const fullPortfolio = portfolios.find(p => {
        const portfolioId = p.id || `${p.team_number}-${p.portfolio_type || 'pp'}`;
        return portfolioId === selected.id;
      });
      
      return {
        ...selected,
        portfolio: fullPortfolio || null
      };
    });
    
    return {
      selected: selectedPortfolios,
      debug: parsedResult.debug || {
        total_portfolios_considered: simplifiedPortfolios.length,
        method: 'gemini-ranking'
      },
      fullPortfolios: portfolios
    };
    
  } catch (error) {
    console.error('Ошибка при работе с Gemini:', error);
    throw error;
  }
}

// Вспомогательная функция для безопасного обрезания строк
function safeString(str, maxLength = MAX_DESC_CHARS) {
  if (!str) return '';
  const text = String(str);
  return text.length > maxLength ? text.substring(0, maxLength) + '…' : text;
}

// ===== Модифицируем функцию generatePortfolios =====
async function generatePortfolios(e) {
  e.preventDefault();
  
  const promptInput = document.getElementById('prompt');
  const prompt = promptInput ? promptInput.value.trim() : '';
  
  if (prompt.length < 10) {
    showNotification('Опишите требования более подробно (минимум 10 символов)', 'error');
    return;
  }
  
  // Показываем индикатор загрузки
  const submitBtn = e.target.querySelector('.btn-primary');
  const originalText = submitBtn.querySelector('.btn-text');
  const spinner = submitBtn.querySelector('.btn-spinner');
  
  if (submitBtn) {
    submitBtn.disabled = true;
    if (originalText) originalText.style.display = 'none';
    if (spinner) spinner.style.display = 'inline';
  }
  
  try {
    // Пробуем использовать Gemini для ранжирования
    console.log('Пробуем ранжирование через Gemini...');
    showNotification('Ищем лучшие портфолио через Gemini...', 'info');
    
    const geminiResult = await geminiRankPortfolios(prompt);
    
    if (geminiResult && geminiResult.selected && geminiResult.selected.length > 0) {
      console.log('Gemini выбрал портфолио:', geminiResult.selected);
      
      // Преобразуем результат в формат для отображения
      const displayPortfolios = geminiResult.selected.map(item => ({
        id: item.id,
        team_name: item.portfolio?.team_name || 'Команда ' + item.id,
        thumbnail_url: item.portfolio?.thumbnail_url || '',
        pdf_url: item.portfolio?.pdf_url || '#',
        description: item.portfolio?.description || item.reason || 'Рекомендовано Gemini',
        score: item.score || 0,
        selection_info: {
          reason: item.reason || 'Семантическое соответствие',
          method: geminiResult.debug?.method || 'gemini'
        }
      }));
      
      // Отображаем результаты
      displayPortfoliosFromAPI(displayPortfolios);
      showNotification(`✅ Найдено ${displayPortfolios.length} лучших портфолио через Gemini!`, 'success');
      
    } else {
      // Fallback: используем старый метод
      console.log('Gemini не вернул результаты, используем fallback...');
      await generatePortfoliosFallback(prompt);
    }
    
  } catch (error) {
    console.error('Ошибка при использовании Gemini:', error);
    showNotification('Gemini временно недоступен, используем локальный поиск...', 'warning');
    
    // Используем fallback
    await generatePortfoliosFallback(prompt);
  } finally {
    // Восстанавливаем кнопку
    if (submitBtn) {
      submitBtn.disabled = false;
      if (originalText) originalText.style.display = 'inline';
      if (spinner) spinner.style.display = 'none';
    }
  }
}

// Fallback функция (старый метод поиска)
async function generatePortfoliosFallback(prompt) {
  try {
    // Пробуем endpoint генерации макетов
    const response = await fetch(API_BASE + GENERATE_LAYOUTS_ENDPOINT, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt, count: 3 })
    });
    
    if (response.ok) {
      const data = await response.json();
      const results = data.results || data.portfolios || [];
      const mappedResults = results.map(normalizeResult);
      displayPortfolios(mappedResults);
      showNotification('Макеты успешно сгенерированы!', 'success');
      return;
    }
  } catch (error) {
    console.warn('Ошибка при генерации макетов:', error);
  }
  
  // Дополнительные fallback варианты...
  // ... (оставьте ваш существующий fallback код)
}

// ===== Основной код приложения (без изменений) =====
document.addEventListener('DOMContentLoaded', () => {
  initializeUI();
  checkBackendConnection();
});

function initializeUI() {
  // ... ваш существующий код инициализации UI ...
}

// Остальные функции (displayPortfoliosFromAPI, displayPortfolios, и т.д.) остаются без изменений
// ...